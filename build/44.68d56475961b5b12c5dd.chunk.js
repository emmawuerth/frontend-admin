(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"666209ae2ead7e714172":function(e,t,n){"use strict";n.r(t);var r,o=n("8af190b70a6bc55c6f1b"),a=n.n(o),i=n("0d7f0986bcd2f33d8a2a"),l=n("1037a6e0d5914309f74c"),u=n.n(l),c=n("4dd2a92e69dcbe1bab10"),s=(n("8a2d1b95e05b6a321e74"),n("6938d226fd372a75cbf9")),d=n("39cd24fdebf6cbef88a3"),f=n("cba78edefe8c800ee17e");function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,n,o){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),c=0;c<i;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){T(e,t,n[t])}))}return e}function b(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){b(a,r,o,i,l,"next",e)}function l(e){b(a,r,o,i,l,"throw",e)}i(void 0)}))}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x,S=m("div",{},void 0,"Hold tight! Preparing your form ..."),_=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=w(t).call(this,e),n=!o||"object"!==p(o)&&"function"!==typeof o?g(r):o,T(g(n),"createFormJson",h(regeneratorRuntime.mark((function e(){var t,r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,r=t.communities,o=t.actions,a=t.vendors,i={title:"Create New Testimonial",subTitle:"",method:"/testimonials.create",successRedirectPage:"/admin/read/testimonials",fields:[{label:"About this Testimonial",fieldType:"Section",children:[{name:"title",label:"Title of Testimonial",placeholder:"A catchy title so people will read it",fieldType:"TextField",contentType:"text",isRequired:!0,defaultValue:"",dbName:"title",readOnly:!1},{name:"body",label:"Body",placeholder:"Tell us more ...",fieldType:"TextField",contentType:"text",isRequired:!0,isMultiline:!0,defaultValue:"",dbName:"body",readOnly:!1},{name:"is_approved",label:"Is this testimonial approved ?",fieldType:"Radio",isRequired:!1,defaultValue:"true",dbName:"is_approved",readOnly:!1,data:[{id:"false",value:"No"},{id:"true",value:"Yes"}]},{name:"is_published",label:"Should this go live ?",fieldType:"Radio",isRequired:!1,defaultValue:"false",dbName:"is_published",readOnly:!1,data:[{id:"false",value:"No"},{id:"true",value:"Yes"}]},{name:"rank",label:"Give this testimonial a number to determine which order it appears in.  Smaller appears first",placeholder:"eg. 0",fieldType:"TextField",contentType:"number",isRequired:!0,defaultValue:"",dbName:"rank",readOnly:!1}]},{label:"What this Testimonial is linked to",fieldType:"Section",children:[{name:"community",label:"Primary Community",placeholder:"eg. Wayland",fieldType:"Dropdown",defaultValue:null,dbName:"community_id",data:r},{name:"action",label:"Primary Action",placeholder:"eg. Action",fieldType:"Dropdown",defaultValue:null,dbName:"action_id",data:o},{name:"vendor",label:"Which Vendor did you use?",placeholder:"eg. Wayland",fieldType:"Dropdown",defaultValue:null,dbName:"vendor_id",data:a},{name:"other_vendor",label:"Other Vendor",placeholder:"Other Vendor",fieldType:"TextField",contentType:"text",defaultValue:null,dbName:"other_vendor"},{name:"user_email",label:"Please provide email of the user",placeholder:"eg. johny.appleseed@massenergize.org",fieldType:"TextField",contentType:"text",isRequired:!0,defaultValue:"",dbName:"user_email",readOnly:!1},{name:"preferredName",label:"Preferred user name to display",placeholder:"User name",fieldType:"TextField",contentType:"text",isRequired:!0,defaultValue:"",dbName:"preferred_name",readOnly:!1}]},{name:"image",placeholder:"Select an Image",fieldType:"File",dbName:"image",label:"Upload a file for this testimonial",selectMany:!1,isRequired:!0,defaultValue:"",filesLimit:1}]},e.abrupt("return",i);case 3:case"end":return e.stop()}}),e)})))),n.state={communities:[],actions:[],vendors:[],formJson:null},n}var n,r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:(a=h(regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,l,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("/tag_collections.listForCommunityAdmin");case 2:return t=e.sent,e.next=5,Object(d.a)("/actions.listForCommunityAdmin");case 5:return n=e.sent,e.next=8,Object(d.a)("/vendors.listForCommunityAdmin");case 8:return r=e.sent,e.next=11,Object(d.a)("/communities.listForCommunityAdmin");case 11:if(!(o=e.sent)||!o.data){e.next=16;break}return a=o.data.map((function(e){return y({},e,{displayName:e.name})})),e.next=16,this.setStateAsync({communities:a});case 16:if(!n||!n.data){e.next=20;break}return i=n.data.map((function(e){return y({},e,{displayName:e.title+" - ".concat(e.community&&e.community.name)})})),e.next=20,this.setStateAsync({actions:i});case 20:if(!r||!r.data){e.next=24;break}return l=r.data.map((function(e){return y({},e,{displayName:e.name})})),e.next=24,this.setStateAsync({vendors:l});case 24:return e.next=26,this.createFormJson();case 26:return u=e.sent,t&&t.data&&(c={label:"Please select tag(s) that apply to this testimonial",fieldType:"Section",children:[]},Object.values(t.data).forEach((function(e){var t={name:e.name,label:"".concat(e.name," ").concat(e.allow_multiple?"(You can select multiple)":"(Only one selection allowed)"),placeholder:"",fieldType:"Checkbox",selectMany:e.allow_multiple,defaultValue:[],dbName:"tags",data:e.tags.map((function(e){return y({},e,{displayName:e.name,id:""+e.id})}))};"Category"===e.name&&c.children.push(t)})),u.fields.splice(1,0,c)),e.next=30,this.setStateAsync({formJson:u});case 30:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setStateAsync",value:function(e){var t=this;return new Promise((function(n){t.setState(e,n)}))}},{key:"render",value:function(){var e=this.props.classes,t=this.state.formJson;return t?m("div",{},void 0,m(f.a,{classes:e,formJson:t})):S}}])&&v(n.prototype,r),o&&v(n,o),t}(o.Component),j=Object(s.withStyles)((function(e){return{root:{flexGrow:1,padding:30},field:{width:"100%",marginBottom:20},fieldBasic:{width:"100%",marginBottom:20,marginTop:10},inlineWrap:{display:"flex",flexDirection:"row"},buttonInit:{margin:4*e.spacing.unit,textAlign:"center"}}}),{withTheme:!0})(_);function P(e){return(P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,n,r){x||(x="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var l=new Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:x,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return!t||"object"!==P(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=N(c.j,{title:"Add New Testimonial",desc:""},void 0,N(j,{})),q=function(e){function t(){return k(this,t),R(this,V(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=u.a.name+" - Testimonial",t=u.a.desc;return N("div",{},void 0,N(i.Helmet,{},void 0,N("title",{},void 0,e),N("meta",{name:"description",content:t}),N("meta",{property:"og:title",content:e}),N("meta",{property:"og:description",content:t}),N("meta",{property:"twitter:title",content:e}),N("meta",{property:"twitter:description",content:t})),C)}}])&&A(n.prototype,r),o&&A(n,o),t}(a.a.Component);t.default=q}}]);