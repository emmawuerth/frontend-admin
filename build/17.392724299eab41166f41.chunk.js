(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"10c4be562eabdbcee327":function(e,t,n){"use strict";n.r(t);var o,i=n("8af190b70a6bc55c6f1b"),r=n.n(i),a=(n("8a2d1b95e05b6a321e74"),n("6938d226fd372a75cbf9")),c=n("0d7f0986bcd2f33d8a2a"),l=n("1037a6e0d5914309f74c"),s=n.n(l),d=n("d4df020feb07c4f688e4"),u=n.n(d),f=n("21d51a880bfffc0c518c"),m=n.n(f),p=n("e68eb59aa96fc65ab714"),y=n.n(p),b=n("e95a63b25fb92ed15721"),v=n("ecbdedbb63dd08b2841e"),h=n.n(v),g=n("b02fe3f80d4238b52f20"),w=n.n(g),_=n("d1481ba7d88efe885afa"),k=n.n(_),O=n("435859b6b76fb67a754a"),P=n.n(O),S=n("39cd24fdebf6cbef88a3"),j=n("497e4ec78fa04872c601");function x(e){return(x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t,n,o,i,r,a){try{var c=e[r](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(o,i)}function A(e,t,n,i){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var c in r)void 0===t[c]&&(t[c]=r[c]);else t||(t=r||{});if(1===a)t.children=i;else if(a>1){for(var l=new Array(a),s=0;s<a;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=A(y.a,{size:"small",variant:"outlined",color:"secondary"}),R=A(m.a,{size:"small",variant:"outlined",color:"secondary"}),D=A(k.a,{}),I=A("h1",{},void 0,"Fetching all Communities.  This may take a while..."),G=A("br",{}),V=A(k.a,{color:"secondary"}),z=function(e){function t(e){var n,o,i,r,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,n=!(i=N(t).call(this,e))||"object"!==x(i)&&"function"!==typeof i?T(o):i,r=T(n),c=function(){return[{name:"ID",key:"id",options:{filter:!0,filterType:"textField"}},{name:"Logo",key:"logo",options:{filter:!1,download:!1,customBodyRender:function(e){return A("div",{},void 0,e.image&&A(b.Link,{to:"/admin/community/".concat(e.id,"/profile"),target:"_blank"},void 0,A(h.a,{alt:e.initials,src:e.image.url,style:{margin:10}})),!e.image&&A(b.Link,{to:"/admin/community/".concat(e.id,"/profile"),target:"_blank"},void 0,A(h.a,{style:{margin:10}},void 0,e.initials)))}}},{name:"Name",key:"name",options:{filter:!0,filterType:"textField"}},{name:"Admin Name & Email",key:"admin_name_and_email",options:{filter:!0,filterType:"textField"}},{name:"Verification",key:"verification",options:{filter:!0}},{name:"Is it Live? (Published & Approved)",key:"is_published",options:{filter:!0}},{name:"Geography",key:"is_published",options:{filter:!0}},{name:"Edit? Profile?",key:"edit_or_copy",options:{filter:!1,download:!1,customBodyRender:function(e){return A("div",{},void 0,A(b.Link,{to:"/admin/community/".concat(e,"/edit")},void 0,F),A(b.Link,{to:"/admin/community/".concat(e,"/profile")},void 0,R),"\xa0\xa0")}}}]},(a="getColumns")in r?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[a]=c,n.state={columns:n.getColumns(),data:[],loading:!0},n}var n,o,i,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:(r=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)("/communities.listForCommunityAdmin");case 2:if(!(t=e.sent)||!t.success){e.next=7;break}return n=t.data.map((function(e){return[e.id,{id:e.id,image:e.logo,initials:"".concat(e.name&&e.name.substring(0,2).toUpperCase())},"".concat(e.name,"...").substring(0,30),"".concat(e.owner_name,"(").concat(e.owner_email,")...").substring(0,20),"".concat(e.is_approved?"Verified":"Not Verified"),"".concat(e.is_published&&e.is_approved?"Live":"Not Live"),"".concat(e.is_geographically_focused?"Geographically Focused":"Geographically Dispersed"),e.id]})),e.next=7,this.setStateAsync({data:n,loading:!1});case 7:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){C(i,n,o,a,c,"next",e)}function c(e){C(i,n,o,a,c,"throw",e)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"setStateAsync",value:function(e){var t=this;return new Promise((function(n){t.setState(e,n)}))}},{key:"render",value:function(){var e=s.a.name+" - All Communities",t=s.a.desc,n=this.state,o=n.data,i=n.columns,r=n.loading,a=this.props.classes,l={filterType:"dropdown",responsive:"stacked",print:!0,rowsPerPage:100,onRowsDelete:function(e){e.data.forEach((function(e){var t=o[e.dataIndex][0];Object(S.a)("/communities.delete",{community_id:t})}))}};return r?A(P.a,{container:!0,spacing:24,alignItems:"flex-start",direction:"row",justify:"center"},void 0,A(P.a,{item:!0,xs:12,md:6},void 0,A(w.a,{className:a.root},void 0,A("div",{className:a.root},void 0,D,I,G,V)))):A("div",{},void 0,A(c.Helmet,{},void 0,A("title",{},void 0,e),A("meta",{name:"description",content:t}),A("meta",{property:"og:title",content:e}),A("meta",{property:"og:description",content:t}),A("meta",{property:"twitter:title",content:e}),A("meta",{property:"twitter:description",content:t})),A("div",{className:a.table},void 0,A(u.a,{title:"All Communities",data:o,columns:i,options:l})))}}])&&L(n.prototype,o),i&&L(n,i),t}(r.a.Component);t.default=Object(a.withStyles)(j.a)(z)}}]);