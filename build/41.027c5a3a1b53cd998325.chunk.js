(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{e82b0ab0f5c789593e80:function(e,t,n){"use strict";n.r(t);var o,r=n("8af190b70a6bc55c6f1b"),a=n.n(r),i=(n("8a2d1b95e05b6a321e74"),n("6938d226fd372a75cbf9")),c=n("0d7f0986bcd2f33d8a2a"),s=n("1037a6e0d5914309f74c"),u=n.n(s),l=n("d4df020feb07c4f688e4"),f=n.n(l),m=n("e68eb59aa96fc65ab714"),d=n.n(m),p=n("e95a63b25fb92ed15721"),b=n("ecbdedbb63dd08b2841e"),y=n.n(b),h=n("4f2c331fbef0a6b53010"),v=n.n(h),g=n("ff6e9e4426c40f54986b"),w=n.n(g),k=n("d7dd51e1bf6bfc2c9c3d"),_=n("39cd24fdebf6cbef88a3"),S=n("497e4ec78fa04872c601"),T=n("ab4cb61bcb2dc161defb"),O=n("f0ba068ec8402cf31cb6"),P=n("f0c29d4e930a8d1ed293");function j(e){return(j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,n,o,r,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(o,r)}function C(e,t,n,r){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var c in a)void 0===t[c]&&(t[c]=a[c]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=C(v.a,{size:"small",variant:"outlined",color:"secondary"}),L=C(d.a,{size:"small",variant:"outlined",color:"secondary"}),N=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=R(t).call(this,e),n=!r||"object"!==j(r)&&"function"!==typeof r?D(o):r,F(D(n),"getStatus",(function(e){switch(e){case!1:return w.a.bgError;case!0:default:return w.a.bgSuccess}})),F(D(n),"showCommunitySwitch",(function(){if((n.props.auth?n.props.auth:{}).is_community_admin)return C(P.a,{actionToPerform:n.handleCommunityChange})})),F(D(n),"handleCommunityChange",(function(e){n.props.callTeamsForNormalAdmin(e)})),F(D(n),"fashionData",(function(e){return e?e.map((function(e){return[e.id,{id:e.id,image:e.logo,initials:"".concat(e.name&&e.name.substring(0,2).toUpperCase())},"".concat(e.name,"...").substring(0,30),e.community&&e.community.name,e.parent&&e.parent.name,e.id,e.id]})):[]})),F(D(n),"getColumns",(function(){return[{name:"ID",key:"id",options:{filter:!0,filterType:"textField"}},{name:"Team Logo",key:"id",options:{filter:!1,download:!1,customBodyRender:function(e){return C("div",{},void 0,e.image&&C(p.Link,{to:"/admin/edit/".concat(e.id,"/team"),target:"_blank"},void 0,C(y.a,{alt:e.initials,src:e.image.url,style:{margin:10}})),!e.image&&C(p.Link,{to:"/admin/edit/".concat(e.id,"/team"),target:"_blank"},void 0,C(y.a,{style:{margin:10}},void 0,e.initials)))}}},{name:"Name",key:"name",options:{filter:!1}},{name:"Community",key:"community",options:{filter:!0,filterType:"multiselect"}},{name:"Parent",key:"parent",options:{filter:!0,filterType:"multiselect"}},{name:"Team Members",key:"team_members",options:{filter:!1,download:!1,customBodyRender:function(e){return C(p.Link,{to:"/admin/edit/".concat(e,"/team_members"),target:"_blank"},void 0,I)}}},{name:"Edit?",key:"edit_or_copy",options:{filter:!1,download:!1,customBodyRender:function(e){return C(p.Link,{to:"/admin/edit/".concat(e,"/team")},void 0,L)}}}]})),n.state={data:[],loading:!0,columns:n.getColumns()},n}var n,o,r,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:(a=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.auth?this.props.auth:{}).is_super_admin){e.next=4;break}return e.next=4,this.props.callTeamsForSuperAdmin();case 4:if(!t.is_community_admin){e.next=10;break}return e.next=7,this.props.callTeamsForNormalAdmin();case 7:return n=e.sent,e.next=10,this.setStateAsync({data:this.fashionData(n.data)});case 10:return e.next=12,this.setStateAsync({loading:!1});case 12:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,o){var r=a.apply(e,t);function i(e){A(r,n,o,i,c,"next",e)}function c(e){A(r,n,o,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})},{key:"setStateAsync",value:function(e){var t=this;return new Promise((function(n){t.setState(e,n)}))}},{key:"render",value:function(){var e=u.a.name+" - All Teams",t=u.a.desc,n=this.state.columns,o=this.fashionData(this.props.allTeams),r=this.props.classes,a={filterType:"dropdown",responsive:"stacked",print:!0,rowsPerPage:100,onRowsDelete:function(e){e.data.forEach((function(e){var t=o[e.dataIndex][0];Object(_.a)("/teams.delete",{team_id:t})}))}};return C("div",{},void 0,C(c.Helmet,{},void 0,C("title",{},void 0,e),C("meta",{name:"description",content:t}),C("meta",{property:"og:title",content:e}),C("meta",{property:"og:description",content:t}),C("meta",{property:"twitter:title",content:e}),C("meta",{property:"twitter:description",content:t})),C("div",{className:r.table},void 0,C(f.a,{title:"All Teams",data:o,columns:n,options:a})))}}])&&x(n.prototype,o),r&&x(n,r),t}(a.a.Component);var B=Object(k.connect)((function(e){return{auth:e.getIn(["auth"]),allTeams:e.getIn(["allTeams"]),community:e.getIn(["selected_community"])}}),(function(e){return Object(T.bindActionCreators)({callTeamsForSuperAdmin:O.r,callTeamsForNormalAdmin:O.k},e)}))(N);t.default=Object(i.withStyles)(S.a)(B)}}]);