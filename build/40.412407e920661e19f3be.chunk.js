(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"29e6faeea51c3e447fe8":function(e,t,n){"use strict";n.r(t);var o,r=n("8af190b70a6bc55c6f1b"),a=(n("8a2d1b95e05b6a321e74"),n("1037a6e0d5914309f74c")),i=n.n(a),c=n("0d7f0986bcd2f33d8a2a"),s=n("6938d226fd372a75cbf9"),l=n("435859b6b76fb67a754a"),d=n.n(l),u=n("b27e083e7741c2dccb3f"),f=n.n(u),m=n("d7dd51e1bf6bfc2c9c3d"),p=n("ab4cb61bcb2dc161defb"),b=n("36f29acb3c9a13ed7f21"),y=n("83b1dd33f74e0e6a9db8"),v=n("9d05e7d1669e2ba45ffe"),h=n("f0ba068ec8402cf31cb6"),g=n("b02fe3f80d4238b52f20"),w=n.n(g),S=n("921c0b8c557fe6ba5da8"),C=n.n(S),_=n("ef58856f4f875bd36582"),O=n.n(_),j=n("d18b150bf005d511c70c"),k=n.n(j),V=n("b8d4965bd52b94937ce4"),P=n("39cd24fdebf6cbef88a3"),x=n("1035762efa586c05d038"),z=n("c82f135c42c3c148fae5"),A=n.n(z);function N(e){return(N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t,n,r){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var c in a)void 0===t[c]&&(t[c]=a[c]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,o,r,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(o,r)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=D(A.a,{size:20,thickness:2,color:"secondary"}),J=D(A.a,{size:20,thickness:2,color:"secondary"}),$=D(A.a,{size:20,thickness:2,color:"secondary"}),L=D("br",{}),q=D("br",{}),B=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=I(t).call(this,e),n=!r||"object"!==N(r)&&"function"!==typeof r?R(o):r,W(R(n),"handleCloseStyle",(function(e,t){"clickaway"!==t&&n.setState({error:null})})),W(R(n),"findCommunityObj",(function(e){for(var t=n.props.communities,o=0;o<t.length;o++)if(t[o].name===e)return t[o];return null})),W(R(n),"chooseCommunity",(function(e){var t=n.findCommunityObj(e.target.value);n.props.selectCommunity(t),t&&(window.location="/admin/community/".concat(t.id,"/profile"))})),n.state={error:null,loadingCSVs:[]},n}var n,o,r,a,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,e),n=t,(o=[{key:"getCSV",value:(a=regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.loadingCSVs,this.setState({loadingCSVs:n.concat(t)}),e.next=4,Object(P.b)("/downloads."+t);case 4:o=e.sent,(n=this.state.loadingCSVs).splice(n.indexOf(t),1),o.success?Object(x.a)(o.file):this.setState({error:o.error}),this.setState({loadingCSVs:n}),this.forceUpdate();case 10:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(n,o){var r=a.apply(e,t);function i(e){T(r,n,o,i,c,"next",e)}function c(e){T(r,n,o,i,c,"throw",e)}i(void 0)}))},function(e){return s.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=i.a.name+" - Summary Dashboard",n=i.a.desc,o=this.props,r=o.classes,a=(o.communities,o.selected_community,o.auth,o.summary_data),s=o.graph_data,l=this.state,u=l.error,m=l.loadingCSVs;return D("div",{},void 0,u&&D("div",{},void 0,D(k.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:null!=u,autoHideDuration:6e3,onClose:this.handleCloseStyle},void 0,D(V.a,{onClose:this.handleCloseStyle,variant:"error",message:"Unable to download: ".concat(u)}))),D(c.Helmet,{},void 0,D("title",{},void 0,t),D("meta",{name:"description",content:n}),D("meta",{property:"og:title",content:t}),D("meta",{property:"og:description",content:n}),D("meta",{property:"twitter:title",content:t}),D("meta",{property:"twitter:description",content:n})),D(d.a,{container:!0,className:r.root},void 0,D(y.a,{data:a})),D(f.a,{className:r.divider}),s&&D(v.a,{data:s||{}}),D(d.a,{container:!0,className:r.colList},void 0,D(d.a,{item:!0,xs:4},void 0,D(w.a,{onClick:function(){!m.includes("users")&&e.getCSV("users")},className:"".concat(r.pageCard),elevation:1},void 0,D(C.a,{variant:"h5",style:{fontWeight:"600",fontSize:"1rem"},component:"h3"},void 0,"Download All Users CSV"," ",D(O.a,{style:{paddingTop:3,color:"green"}},void 0,"arrow_downward"),m.includes("users")&&H))),D(d.a,{item:!0,xs:4},void 0,D(w.a,{onClick:function(){!m.includes("actions")&&e.getCSV("actions")},className:"".concat(r.pageCard),elevation:1},void 0,D(C.a,{variant:"h5",style:{fontWeight:"600",fontSize:"1rem"},component:"h3"},void 0,"Download All Actions CSV"," ",D(O.a,{style:{paddingTop:3,color:"green"}},void 0,"arrow_downward"),m.includes("actions")&&J))),D(d.a,{item:!0,xs:4},void 0,D(w.a,{onClick:function(){!m.includes("communities")&&e.getCSV("communities")},className:"".concat(r.pageCard),elevation:1},void 0,D(C.a,{variant:"h5",style:{fontWeight:"600",fontSize:"1rem"},component:"h3"},void 0,"Download All Communities CSV"," ",D(O.a,{style:{paddingTop:3,color:"green"}},void 0,"arrow_downward"),m.includes("communities")&&$)))),L,q)}}])&&E(n.prototype,o),r&&E(n,r),t}(r.PureComponent),F=Object(m.connect)((function(e){return{communities:e.getIn(["communities"]),selected_community:e.getIn(["selected_community"]),summary_data:e.getIn(["summary_data"]),graph_data:e.getIn(["graph_data"])||{}}}),(function(e){return Object(p.bindActionCreators)({selectCommunity:h.y,ifExpired:h.e},e)}))(B);t.default=Object(s.withStyles)(b.a)(F)}}]);