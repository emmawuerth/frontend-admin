(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{fc522f270d7504df18ca:function(e,t,n){"use strict";n.r(t);var o,r=n("8af190b70a6bc55c6f1b"),i=n.n(r),a=(n("8a2d1b95e05b6a321e74"),n("6938d226fd372a75cbf9")),c=n("0d7f0986bcd2f33d8a2a"),s=n("1037a6e0d5914309f74c"),u=n.n(s),l=n("d4df020feb07c4f688e4"),f=n.n(l),p=n("e68eb59aa96fc65ab714"),d=n.n(p),m=n("e95a63b25fb92ed15721"),b=n("c7fd554010f79f6c0ef8"),y=n.n(b),v=n("ff6e9e4426c40f54986b"),h=n.n(v),k=n("d7dd51e1bf6bfc2c9c3d"),w=n("ab4cb61bcb2dc161defb"),g=n("39cd24fdebf6cbef88a3"),_=n("497e4ec78fa04872c601"),x=n("f0ba068ec8402cf31cb6");function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,n,r){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,n,o,r,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(o,r)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){S(i,o,r,a,c,"next",e)}function c(e){S(i,o,r,a,c,"throw",e)}a(void 0)}))}}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=O(d.a,{size:"small",variant:"outlined",color:"secondary"}),E=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,n=!(r=A(t).call(this,e))||"object"!==T(r)&&"function"!==typeof r?R(o):r,I(R(n),"fashionData",(function(e){return e.map((function(e){return[e.id,"".concat(e.title,"...").substring(0,30),{rank:e.rank,id:e.id},e.community&&e.community.name,e.is_approved?"Yes":"No",e.is_approved&&e.is_published?"Yes":"No","".concat(e.user?e.user.full_name:"","...").substring(0,20),"".concat(e.action?e.action.title:""," ").concat(e.action&&e.action.community?" -  (".concat(e.action.community.name,")"):"","...").substring(0,20),e.id]}))})),I(R(n),"getStatus",(function(e){switch(e){case!1:return h.a.bgError;case!0:default:return h.a.bgSuccess}})),I(R(n),"getColumns",(function(){return[{name:"ID",key:"id",options:{filter:!0,filterType:"textField"}},{name:"Title",key:"title",options:{filter:!0,filterType:"textField"}},{name:"Rank",key:"rank",options:{filter:!1,customBodyRender:function(e){return O(y.a,{required:!0,name:"rank",variant:"outlined",onChange:function(){var t=j(regeneratorRuntime.mark((function t(n){var o,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target){t.next=3;break}return t.abrupt("return");case 3:return r=o.name,i=o.value,t.next=6,Object(g.a)("/testimonials.update",I({testimonial_id:e&&e.id},r,i));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),label:"Rank",InputLabelProps:{shrink:!0,maxwidth:"10px"},defaultValue:e&&e.rank})}}},{name:"Community",key:"community",options:{filter:!0}},{name:"Is Approved?",key:"is_approved",options:{filter:!0}},{name:"Is Live?",key:"is_live",options:{filter:!0}},{name:"User",key:"user",options:{filter:!0,filterType:"textField"}},{name:"Action",key:"action",options:{filter:!0,filterType:"textField"}},{name:"Edit",key:"edit_or_copy",options:{filter:!1,download:!1,customBodyRender:function(e){return O("div",{},void 0,O(m.Link,{to:"/admin/edit/".concat(e,"/testimonial"),target:"_blank"},void 0,C),"\xa0\xa0")}}}]})),n.state={columns:n.getColumns(),loading:!0},n}var n,o,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:(i=j(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.auth?this.props.auth:{}).is_super_admin){e.next=4;break}return e.next=4,this.props.callTestimonialsForSuperAdmin();case 4:if(!t.is_community_admin){e.next=9;break}if(!(n=this.props.community?this.props.community:t.admin_at[0])){e.next=9;break}return e.next=9,this.props.callTestimonialsForNormalAdmin(n.id);case 9:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"setStateAsync",value:function(e){var t=this;return new Promise((function(n){t.setState(e,n)}))}},{key:"render",value:function(){var e=u.a.name+" - All Testimonials",t=u.a.desc,n=this.state,o=n.columns,r=(n.loading,this.props.classes),i=this.fashionData(this.props.allTestimonials),a={filterType:"dropdown",responsive:"stacked",print:!0,rowsPerPage:100,onRowsDelete:function(e){e.data.forEach((function(e){var t=i[e.dataIndex][0];Object(g.a)("/testimonials.delete",{testimonial_id:t})}))}};return O("div",{},void 0,O(c.Helmet,{},void 0,O("title",{},void 0,e),O("meta",{name:"description",content:t}),O("meta",{property:"og:title",content:e}),O("meta",{property:"og:description",content:t}),O("meta",{property:"twitter:title",content:e}),O("meta",{property:"twitter:description",content:t})),O("div",{className:r.table},void 0,O(f.a,{title:"All Testimonials",data:i,columns:o,options:a})))}}])&&P(n.prototype,o),r&&P(n,r),t}(i.a.Component);var D=Object(k.connect)((function(e){return{auth:e.getIn(["auth"]),allTestimonials:e.getIn(["allTestimonials"]),community:e.getIn(["selected_community"])}}),(function(e){return Object(w.bindActionCreators)({callTestimonialsForSuperAdmin:x.s,callTestimonialsForNormalAdmin:x.l},e)}))(E);t.default=Object(a.withStyles)(_.a)(D)}}]);